<!-- BeginDsi "dsi/head.html" -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Embedthis Bit 0.8.7 Documentation</title>
    <meta name="keywords" content="Bit, Build It!, Javascript"/>
	<meta name="description" content="Embedthis Bit -- Fast, modern replacement for make and autoconf."/>
	<meta name="robots" content="index,follow" />
	<link href="../../../doc.css" rel="stylesheet" type="text/css" />
	<link href="../../../print.css" rel="stylesheet" type="text/css" media="print"/>
    <!--[if IE]>
    <link href="../../../iehacks.css" rel="stylesheet" type="text/css" />
    </![endif]-->
    <link href="http://www.google.com/cse/style/look/default.css" type="text/css" rel="stylesheet" />
</head>

<body>
    <div class="top">
        <a class="logo"  href="http://embedthis.com/">&nbsp;</a>
        <div class="topRight">
            <div class="search">
                <div id="cse-search-form">Loading</div>
                <div class="version">Embedthis Bit 0.8.7</div>
            </div>
        </div>
        <div class="crumbs">
            <a href="../../../index.html">Home</a>
<!-- EndDsi -->
             &gt;<a href="index.html">Source Code</a>&gt; <b>Building with Make</b>
        </div>
    </div>
    <div class="content">
        <div class="contentRight">
            <h1>Quick Nav</h1>
            <ul>
                <li><a href="#makefiles">Platform Makefile</a></li>
                <li><a href="#nmake">Windows Nmake</a></li>
                <li><a href="#modifying">Modifying Defaults</a></li>
                <li><a href="#installing">Installing</a></li>
            </ul>
<!-- BeginDsi "dsi/sourceSeeAlso.html" -->
            <h1>See Also</h1>
            <ul>
                <li><a href="../../../guide/bit/source/index.html">Working with Source</a></li>
                <li><a href="../../../guide/bit/source/building.html">Building from Source</a></li>
                <li><a href="../../../product/changeLog.html">Change Log</a></li>
                <li><a href="../../../product/releaseNotes.html">Release Notes</a></li>
                <li><a href="../../../product/install/mac.html">Installing on Mac OS X</a></li>
                <li><a href="../../../product/install/windows.html">Installing on Windows</a></li>
            </ul>
<!-- EndDsi -->
        </div>
        <div class="contentLeft">
            <h1>Building with Make or Nmake</h1>
            <p>This document describes the process to build the software from source using Make or Nmake on Windows.
                First make sure you have read <a href="building.html">Building from Source</a> to prepare your build
                environment. </p>
            
            <a name="makefiles"></a>
            <h2>Platform Makefiles</h2>
            <p>Bit provides a suite of generated, pre-configured Makefiles for common platforms. 
            These are simple flat makefiles that build a default configuration of Bit for a specific operating
            system. These makefiles are provided under the <em>./projects</em> directory.</p>
            <p> A top level Makefile is also provided that detects your operating system and CPU architecture and
            then invokes the appropriate project Makefile for your system. For example:</p>
<pre>$ <b>make</b>
make --no-print-directory -f projects/bit-macosx-default.mk all
...
</pre>
            <a name="nmake"></a>
            <h3>Windows Nmake</h3>
            <p>On Windows, a <em>make.bat</em> file is provided to to invoke nmake. The make.bat file first invokes
            <em>projects/windows.bat</em> which runs the Visual Studio <em>vcvarsall.bat</em> procedure
            to setup the necessary Visual Studio environment variables for compiling.</p>
            <p>To build on Windows with nmake, type:
            <pre>$ <b>make</b>
nmake -f projects\bit-windows.nmake
...
</pre>
            <a name="modifying"></a>
            <h3>Modifying the Makefile Defaults</h3>
            <p>You do not use the configure program when building via Make, that is used only for building with Bit. 
            Rather, you supply configuration options directly to Make. These options override default values defined by the
            projects/bit-OS-default.mk makefile and by the projects/bit-OS-debug-bit.h file. For example, to disable
            use of SSL:</p>
            <pre>$ make <b>BIT_PACK_EST=0</b> </pre>
            <p>To see the list of configurable options, run:</p>
            <pre>$ <b>make help</b>
usage: make [clean, compile, install, run, uninstall]
The default configuration can be modified by setting make variables
Set to 0 to disable and 1 to enable:
  PROFILE            # Select default or static for static linking
  BIT_MPR_LOGGING    # Enable application logging
  BIT_MPR_TRACING    # Enable debug tracing
  BIT_PACK_EST       # Enable the EST SSL stack
For example, to disable EST:
  BIT_PACK_EST=0 make
Other make variables:
  ARCH               # CPU architecture (x86, x64, ppc, ...)
  OS                 # Operating system (linux, macosx, windows, vxworks, ...)
  CC                 # Compiler to use 
  LD                 # Linker to use
  DEBUG              # Set to debug or release for debug or optimized builds
  CONFIG             # Output directory for built items. Defaults to OS-ARCH-PROFILE
  CFLAGS             # Add compiler options. For example: -Wall
  DFLAGS             # Add compiler defines. For example: -DCOLOR=blue
  IFLAGS             # Add compiler include directories. For example: -I/extra/includes
  LDFLAGS            # Add linker options
  LIBPATHS           # Add linker library search directories. For example: -L/libraries
  LIBS               # Add linker libraries. For example: -lpthreads
  PROFILE            # Build profile, used in output products directory name
Use "SHOW=1 make" to show executed commands.
</pre>
            <p>By defining the make variables such as CC and CFLAGS, you can modify the compiler options. </p>
            <a name="installing"></a>
            <h2 class="section">Installing with Make</h2>
            <p>You can install the newly built software via:</p>
            <pre>sudo make install</pre>
            <p>You can remove by:</p>
            <pre>
sudo make uninstall
</pre>
            <a name="deploy"></a>
            <h2>Deploying</h2>
            <p>If you need to deploy to a different system or capture the build products, you can install to a specific
            directory via: </p>
            <pre>make deploy</pre>
            <p>This will install to the <em>deploy</em> directory under the output platform directory.</p>
        </div>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->
	<div class="bottom">
		<p class="footnote"> 
            <a href="../../../product/copyright.html" >&copy; Embedthis Software LLC, 2003-2013. 
            All rights reserved. Embedthis Bit, Ejscript and Appweb are trademarks of Embedthis Software LLC.</a>
		</p>
	</div>
    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript"> 
      google.load('search', '1', {language : 'en'});
      google.setOnLoadCallback(function() {
        var customSearchControl = new google.search.CustomSearchControl(
          'partner-pub-9935546676162772:ysvxxv4n9rx');

        customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
        var options = new google.search.DrawOptions();
        options.enableSearchboxOnly("http://embedthis.com/search.html");
        customSearchControl.draw('cse-search-form', options);
      }, true);
    </script>
</body>
</html>
